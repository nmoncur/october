title = "Episodes"
url = "/episodes/:episode_id"
layout = "episode_details"
==
use Catapult\Episodes\Models\Episode;

function onStart() {
  $this['episode'] = Episode::where('id', $this->param('episode_id'))->first();

  $response = file_get_contents('https://api.spreaker.com/v2/episodes/'.$this['episode']->episode_id);
  $stats = json_decode($response);
  $this['stats'] = $stats->response->episode;
}
==

<div class="page">
  <div class="container">
    <div class="row">
      <div class="col-sm-4 d-none d-sm-block">
        <h1 class="brand">details</h1>
      </div>
      <div class="col-sm-8">
        <div>
          <h3 class="text-primary">{{ episode.title }}</h3>
        </div>
        <div class="stats">{{ stats.published_at | time_since }} • {{ stats.plays_count | number_format }} plays • {{ stats.downloads_count | number_format }} downloads</div>
        <div>
          {{ episode.description | raw }}
        </div>
      </div>
    </div>
  </div>
</div>
